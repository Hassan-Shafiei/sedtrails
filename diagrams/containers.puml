@startuml SedtrailContainer
!include <C4/C4_Container>

title SEDTrails Container Diagram
' scale 2

Person(modeler, "Modeler", "wants to track sand particles in a costal system")
Person(analyst, "Analyst", "wants postprocess and visualize simulation outputs")

System_Boundary(sedtrailsSystem, "SEDTrails Particle Tracking System"){ 
    Container(sedtrailsApp, "SEDTrails Particle Tracer", "Python", "An application that computes the position of sand particles (x,y,t) in a costal system")
    Container(transportConverter, "Transport Converter", "Python", "An application that pre-process transport flow to convert data formats and physical units.")
    Container(pathwayVisualizer, "Pathway Visualizer", "Python", "An application to generate plots and animations of sand particle pathways.")
    
    Rel(transportConverter, sedtrailsApp, "provides transformed transport data to")
    Rel(sedtrailsApp, pathwayVisualizer, "uses pathways from", "NETCDF")

}

System_Ext(flowSystem, "Eulerian Flow Modeling System", "Simulates flows of water and wind", $type="Any")
System_Ext(connectivityNetworkSys, "Connectivity Network System", "Performs connectiviy network analysis", $type="Any")
System_Ext(statisticsSys, "Statistical Analysis Tooling System", "Performs various statistical analysis", $type="Any")

Rel(modeler, sedtrailsApp, "defines simulation parameters and outputs for", "Configuration file")
Rel(connectivityNetworkSys, sedtrailsApp, "access simulation outputs from", "NETCDF")
Rel(statisticsSys, sedtrailsApp, "access simulation outputs from", "NETCDF")
Rel(analyst, pathwayVisualizer, "create visualizations of sand pathways using", "Python")
Rel(analyst, connectivityNetworkSys, "post-process simulation outputs in", "Any")
Rel(analyst, statisticsSys, "post-process simulation outputs in", "Any")


Rel(modeler, flowSystem, "produces flow-field data using", "Any")

Rel(flowSystem, transportConverter, "provides flow-field data to ", "NETCDF")


SHOW_LEGEND()
@enduml